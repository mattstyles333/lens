{"remainingRequest":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/src/components/FileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/src/components/FileUpload.vue","mtime":1576662228000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRmlsZVVwbG9hZCIsCiAgcHJvcHM6IHsKICAgIHR5cGU6IFN0cmluZywKICAgIGlucHV0TmFtZTogU3RyaW5nLAogICAgaW5wdXRWYWx1ZTogU3RyaW5nLAogICAgcGxhY2Vob2xkZXI6IFN0cmluZywKICAgIG11bHRpcGxlOiBCb29sZWFuLAogICAgYnRuSWNvbjogU3RyaW5nLAogICAgd2l0aEJ1dHRvbjogQm9vbGVhbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0TW9kZWw6IG51bGwsCiAgICAgIGlucHV0TW9kZWwyOiBudWxsLAogICAgICBpbWFnZVJlZ3VsYXI6IHJlcXVpcmUoIkAvYXNzZXRzL2ltZy9pbWFnZV9wbGFjZWhvbGRlci5qcGciKSwKICAgICAgaW1hZ2VDaXJjbGU6IHJlcXVpcmUoIkAvYXNzZXRzL2ltZy9wbGFjZWhvbGRlci5qcGciKSwKICAgICAgaGFzSW1hZ2U6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25GaWxlQ2hhbmdlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHJldHVybjsKICAgICAgbGV0IGZpbGUgPSBmaWxlc1swXTsKICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImltYWdlLWNpcmNsZSIpIHsKICAgICAgICAgIHZtLmltYWdlQ2lyY2xlID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0uaW1hZ2VSZWd1bGFyID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICB2bS5oYXNJbWFnZSA9IHRydWU7CiAgICB9LAogICAgcmVtb3ZlSW1hZ2U6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy50eXBlID09PSAiaW1hZ2UtY2lyY2xlIikgewogICAgICAgIHRoaXMuaW1hZ2VDaXJjbGUgPSByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvcGxhY2Vob2xkZXIuanBnIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbWFnZVJlZ3VsYXIgPSByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvaW1hZ2VfcGxhY2Vob2xkZXIuanBnIik7CiAgICAgIH0KICAgICAgdGhpcy5oYXNJbWFnZSA9IGZhbHNlOwogICAgfSwKICAgIHRyaWdnZXJJbnB1dEZpbGVIaWRkZW4oaGlkZGVuSUQpIHsKICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoaWRkZW5JRCk7CiAgICAgIGVsZW1lbnQuY2xpY2soKTsKICAgIH0sCiAgICBuZXdWYWx1ZSh2aXNpYmxlSUQsIGhpZGRlbklEKSB7CiAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGlkZGVuSUQpOwogICAgICBsZXQgdmlzaWJsZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aXNpYmxlSUQpOwogICAgICBsZXQgZWxlbVZhbHVlID0gZWxlbWVudC52YWx1ZTsKICAgICAgbGV0IGZpbGVuYW1lID0gZWxlbVZhbHVlLnJlcGxhY2UoL0M6XFxmYWtlcGF0aFxcL2ksICIiKTsKCiAgICAgIHZpc2libGVFbGVtLnZhbHVlID0gZmlsZW5hbWU7CiAgICB9LAogICAgbmV3VmFsdWVNdWx0aXBsZSh2aXNpYmxlSUQsIGhpZGRlbklEKSB7CiAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGlkZGVuSUQpOwogICAgICBsZXQgdmlzaWJsZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aXNpYmxlSUQpOwogICAgICBsZXQgbmFtZXMgPSAiIjsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50LmZpbGVzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKGkgPCBlbGVtZW50LmZpbGVzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIG5hbWVzICs9IGVsZW1lbnQuZmlsZXMuaXRlbShpKS5uYW1lICsgIiwgIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmFtZXMgKz0gZWxlbWVudC5maWxlcy5pdGVtKGkpLm5hbWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2aXNpYmxlRWxlbS52YWx1ZSA9IG5hbWVzOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["FileUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"FileUpload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <span>\n    <template v-if=\"type === 'image-regular' || type === 'image-circle'\">\n      <div\n        class=\"file-input\"\n        :class=\"type\"\n      >\n        <div class=\"image-container\">\n          <img\n            v-if=\"type === 'image-regular'\"\n            :src=\"imageRegular\"\n            title=\"\"\n          >\n          <img\n            v-else\n            :src=\"imageCircle\"\n            title=\"\"\n          >\n        </div>\n        <div class=\"button-container\">\n          <md-button\n            v-if=\"hasImage\"\n            class=\"md-danger md-round\"\n            @click=\"removeImage\"\n          ><i class=\"fa fa-times\" />Remove</md-button>\n          <md-button class=\"md-success md-round md-fileinput\">\n            <template\n              v-if=\"type === 'image-regular' && !hasImage\"\n            >Select image</template>\n            <template\n              v-else-if=\"type === 'image-circle' && !hasImage\"\n            >Add photo</template>\n            <template\n              v-else\n            >Change</template>\n            <input\n              type=\"file\"\n              :name=\"type\"\n              @change=\"onFileChange\"\n            >\n          </md-button>\n        </div>\n      </div>\n    </template>\n\n    <template v-else-if=\"type === 'input'\">\n      <template v-if=\"!withButton\">\n        <md-field class=\"form-file-upload form-file-simple\">\n          <md-input\n            :id=\"inputName + 'Visible'\"\n            v-model=\"inputModel\"\n            :placeholder=\"placeholder\"\n            @click=\"triggerInputFileHidden(inputName + 'Hidden')\"\n          />\n          <input\n            :id=\"inputName + 'Hidden'\"\n            type=\"file\"\n            @change=\"newValue(inputName + 'Visible', inputName + 'Hidden')\"\n          >\n        </md-field>\n      </template>\n      <template v-if=\"withButton\">\n        <div class=\"form-file-group\">\n          <md-field class=\"form-file-upload form-file-simple\">\n            <md-input\n              :id=\"inputName + 'Visible'\"\n              v-model=\"inputModel\"\n              :multiple=\"multiple\"\n              :placeholder=\"placeholder\"\n              @click=\"triggerInputFileHidden(inputName + 'Hidden')\"\n            />\n            <input\n              v-if=\"!multiple\"\n              :id=\"inputName + 'Hidden'\"\n              type=\"file\"\n              @change=\"newValue(inputName + 'Visible', inputName + 'Hidden')\"\n            >\n            <input\n              v-else\n              :id=\"inputName + 'Hidden'\"\n              type=\"file\"\n              :multiple=\"multiple\"\n              @change=\"\n                newValueMultiple(inputName + 'Visible', inputName + 'Hidden')\n              \"\n            >\n          </md-field>\n          <md-button\n            class=\"md-success md-round md-just-icon\"\n            @click=\"triggerInputFileHidden(inputName + 'Hidden')\"\n          ><md-icon>{{ btnIcon }}</md-icon></md-button>\n        </div>\n      </template>\n    </template>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"FileUpload\",\n  props: {\n    type: String,\n    inputName: String,\n    inputValue: String,\n    placeholder: String,\n    multiple: Boolean,\n    btnIcon: String,\n    withButton: Boolean\n  },\n  data() {\n    return {\n      inputModel: null,\n      inputModel2: null,\n      imageRegular: require(\"@/assets/img/image_placeholder.jpg\"),\n      imageCircle: require(\"@/assets/img/placeholder.jpg\"),\n      hasImage: false\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      e.preventDefault();\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      let file = files[0];\n      let reader = new FileReader();\n      let vm = this;\n      reader.onload = () => {\n        if (this.type === \"image-circle\") {\n          vm.imageCircle = reader.result;\n        } else {\n          vm.imageRegular = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n      vm.hasImage = true;\n    },\n    removeImage: function() {\n      if (this.type === \"image-circle\") {\n        this.imageCircle = require(\"@/assets/img/placeholder.jpg\");\n      } else {\n        this.imageRegular = require(\"@/assets/img/image_placeholder.jpg\");\n      }\n      this.hasImage = false;\n    },\n    triggerInputFileHidden(hiddenID) {\n      let element = document.getElementById(hiddenID);\n      element.click();\n    },\n    newValue(visibleID, hiddenID) {\n      let element = document.getElementById(hiddenID);\n      let visibleElem = document.getElementById(visibleID);\n      let elemValue = element.value;\n      let filename = elemValue.replace(/C:\\\\fakepath\\\\/i, \"\");\n\n      visibleElem.value = filename;\n    },\n    newValueMultiple(visibleID, hiddenID) {\n      let element = document.getElementById(hiddenID);\n      let visibleElem = document.getElementById(visibleID);\n      let names = \"\";\n      for (var i = 0; i < element.files.length; ++i) {\n        if (i < element.files.length - 1) {\n          names += element.files.item(i).name + \", \";\n        } else {\n          names += element.files.item(i).name;\n        }\n      }\n\n      visibleElem.value = names;\n    }\n  }\n};\n</script>\n\n<style lang=\"css\"></style>\n"]}]}
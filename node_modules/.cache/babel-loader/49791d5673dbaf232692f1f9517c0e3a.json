{"remainingRequest":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/babel-loader/lib/index.js!/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/src/components/FileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/src/components/FileUpload.vue","mtime":1576662228000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/envisible/Documents/code/vue-material-kit-pro-v1.2.2/vue-material-kit-v1.2.2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZpbGVVcGxvYWQiLAogIHByb3BzOiB7CiAgICB0eXBlOiBTdHJpbmcsCiAgICBpbnB1dE5hbWU6IFN0cmluZywKICAgIGlucHV0VmFsdWU6IFN0cmluZywKICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsCiAgICBtdWx0aXBsZTogQm9vbGVhbiwKICAgIGJ0bkljb246IFN0cmluZywKICAgIHdpdGhCdXR0b246IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnB1dE1vZGVsOiBudWxsLAogICAgICBpbnB1dE1vZGVsMjogbnVsbCwKICAgICAgaW1hZ2VSZWd1bGFyOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvaW1hZ2VfcGxhY2Vob2xkZXIuanBnIiksCiAgICAgIGltYWdlQ2lyY2xlOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvcGxhY2Vob2xkZXIuanBnIiksCiAgICAgIGhhc0ltYWdlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRmlsZUNoYW5nZTogZnVuY3Rpb24gb25GaWxlQ2hhbmdlKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm47CiAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gImltYWdlLWNpcmNsZSIpIHsKICAgICAgICAgIHZtLmltYWdlQ2lyY2xlID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0uaW1hZ2VSZWd1bGFyID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgdm0uaGFzSW1hZ2UgPSB0cnVlOwogICAgfSwKICAgIHJlbW92ZUltYWdlOiBmdW5jdGlvbiByZW1vdmVJbWFnZSgpIHsKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImltYWdlLWNpcmNsZSIpIHsKICAgICAgICB0aGlzLmltYWdlQ2lyY2xlID0gcmVxdWlyZSgiQC9hc3NldHMvaW1nL3BsYWNlaG9sZGVyLmpwZyIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW1hZ2VSZWd1bGFyID0gcmVxdWlyZSgiQC9hc3NldHMvaW1nL2ltYWdlX3BsYWNlaG9sZGVyLmpwZyIpOwogICAgICB9CgogICAgICB0aGlzLmhhc0ltYWdlID0gZmFsc2U7CiAgICB9LAogICAgdHJpZ2dlcklucHV0RmlsZUhpZGRlbjogZnVuY3Rpb24gdHJpZ2dlcklucHV0RmlsZUhpZGRlbihoaWRkZW5JRCkgewogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhpZGRlbklEKTsKICAgICAgZWxlbWVudC5jbGljaygpOwogICAgfSwKICAgIG5ld1ZhbHVlOiBmdW5jdGlvbiBuZXdWYWx1ZSh2aXNpYmxlSUQsIGhpZGRlbklEKSB7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGlkZGVuSUQpOwogICAgICB2YXIgdmlzaWJsZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aXNpYmxlSUQpOwogICAgICB2YXIgZWxlbVZhbHVlID0gZWxlbWVudC52YWx1ZTsKICAgICAgdmFyIGZpbGVuYW1lID0gZWxlbVZhbHVlLnJlcGxhY2UoL0M6XFxmYWtlcGF0aFxcL2ksICIiKTsKICAgICAgdmlzaWJsZUVsZW0udmFsdWUgPSBmaWxlbmFtZTsKICAgIH0sCiAgICBuZXdWYWx1ZU11bHRpcGxlOiBmdW5jdGlvbiBuZXdWYWx1ZU11bHRpcGxlKHZpc2libGVJRCwgaGlkZGVuSUQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoaWRkZW5JRCk7CiAgICAgIHZhciB2aXNpYmxlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZpc2libGVJRCk7CiAgICAgIHZhciBuYW1lcyA9ICIiOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50LmZpbGVzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKGkgPCBlbGVtZW50LmZpbGVzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIG5hbWVzICs9IGVsZW1lbnQuZmlsZXMuaXRlbShpKS5uYW1lICsgIiwgIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmFtZXMgKz0gZWxlbWVudC5maWxlcy5pdGVtKGkpLm5hbWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2aXNpYmxlRWxlbS52YWx1ZSA9IG5hbWVzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FileUpload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <span>\n    <template v-if=\"type === 'image-regular' || type === 'image-circle'\">\n      <div\n        class=\"file-input\"\n        :class=\"type\"\n      >\n        <div class=\"image-container\">\n          <img\n            v-if=\"type === 'image-regular'\"\n            :src=\"imageRegular\"\n            title=\"\"\n          >\n          <img\n            v-else\n            :src=\"imageCircle\"\n            title=\"\"\n          >\n        </div>\n        <div class=\"button-container\">\n          <md-button\n            v-if=\"hasImage\"\n            class=\"md-danger md-round\"\n            @click=\"removeImage\"\n          ><i class=\"fa fa-times\" />Remove</md-button>\n          <md-button class=\"md-success md-round md-fileinput\">\n            <template\n              v-if=\"type === 'image-regular' && !hasImage\"\n            >Select image</template>\n            <template\n              v-else-if=\"type === 'image-circle' && !hasImage\"\n            >Add photo</template>\n            <template\n              v-else\n            >Change</template>\n            <input\n              type=\"file\"\n              :name=\"type\"\n              @change=\"onFileChange\"\n            >\n          </md-button>\n        </div>\n      </div>\n    </template>\n\n    <template v-else-if=\"type === 'input'\">\n      <template v-if=\"!withButton\">\n        <md-field class=\"form-file-upload form-file-simple\">\n          <md-input\n            :id=\"inputName + 'Visible'\"\n            v-model=\"inputModel\"\n            :placeholder=\"placeholder\"\n            @click=\"triggerInputFileHidden(inputName + 'Hidden')\"\n          />\n          <input\n            :id=\"inputName + 'Hidden'\"\n            type=\"file\"\n            @change=\"newValue(inputName + 'Visible', inputName + 'Hidden')\"\n          >\n        </md-field>\n      </template>\n      <template v-if=\"withButton\">\n        <div class=\"form-file-group\">\n          <md-field class=\"form-file-upload form-file-simple\">\n            <md-input\n              :id=\"inputName + 'Visible'\"\n              v-model=\"inputModel\"\n              :multiple=\"multiple\"\n              :placeholder=\"placeholder\"\n              @click=\"triggerInputFileHidden(inputName + 'Hidden')\"\n            />\n            <input\n              v-if=\"!multiple\"\n              :id=\"inputName + 'Hidden'\"\n              type=\"file\"\n              @change=\"newValue(inputName + 'Visible', inputName + 'Hidden')\"\n            >\n            <input\n              v-else\n              :id=\"inputName + 'Hidden'\"\n              type=\"file\"\n              :multiple=\"multiple\"\n              @change=\"\n                newValueMultiple(inputName + 'Visible', inputName + 'Hidden')\n              \"\n            >\n          </md-field>\n          <md-button\n            class=\"md-success md-round md-just-icon\"\n            @click=\"triggerInputFileHidden(inputName + 'Hidden')\"\n          ><md-icon>{{ btnIcon }}</md-icon></md-button>\n        </div>\n      </template>\n    </template>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"FileUpload\",\n  props: {\n    type: String,\n    inputName: String,\n    inputValue: String,\n    placeholder: String,\n    multiple: Boolean,\n    btnIcon: String,\n    withButton: Boolean\n  },\n  data() {\n    return {\n      inputModel: null,\n      inputModel2: null,\n      imageRegular: require(\"@/assets/img/image_placeholder.jpg\"),\n      imageCircle: require(\"@/assets/img/placeholder.jpg\"),\n      hasImage: false\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      e.preventDefault();\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      let file = files[0];\n      let reader = new FileReader();\n      let vm = this;\n      reader.onload = () => {\n        if (this.type === \"image-circle\") {\n          vm.imageCircle = reader.result;\n        } else {\n          vm.imageRegular = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n      vm.hasImage = true;\n    },\n    removeImage: function() {\n      if (this.type === \"image-circle\") {\n        this.imageCircle = require(\"@/assets/img/placeholder.jpg\");\n      } else {\n        this.imageRegular = require(\"@/assets/img/image_placeholder.jpg\");\n      }\n      this.hasImage = false;\n    },\n    triggerInputFileHidden(hiddenID) {\n      let element = document.getElementById(hiddenID);\n      element.click();\n    },\n    newValue(visibleID, hiddenID) {\n      let element = document.getElementById(hiddenID);\n      let visibleElem = document.getElementById(visibleID);\n      let elemValue = element.value;\n      let filename = elemValue.replace(/C:\\\\fakepath\\\\/i, \"\");\n\n      visibleElem.value = filename;\n    },\n    newValueMultiple(visibleID, hiddenID) {\n      let element = document.getElementById(hiddenID);\n      let visibleElem = document.getElementById(visibleID);\n      let names = \"\";\n      for (var i = 0; i < element.files.length; ++i) {\n        if (i < element.files.length - 1) {\n          names += element.files.item(i).name + \", \";\n        } else {\n          names += element.files.item(i).name;\n        }\n      }\n\n      visibleElem.value = names;\n    }\n  }\n};\n</script>\n\n<style lang=\"css\"></style>\n"],"sourceRoot":"src/components"}]}